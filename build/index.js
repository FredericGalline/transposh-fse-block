(()=>{"use strict";var e,s={103:()=>{const e=window.wp.blocks,s=window.wp.i18n,a=window.wp.blockEditor,n=window.wp.components,l=window.wp.data,o=window.ReactJSXRuntime,t={fr:{code:"fr",name:"Français",flag:"https://flagcdn.com/w20/fr.png",emoji:"🇫🇷"},en:{code:"en",name:"English",flag:"https://flagcdn.com/w20/us.png",emoji:"🇺🇸"},es:{code:"es",name:"Español",flag:"https://flagcdn.com/w20/es.png",emoji:"🇪🇸"},de:{code:"de",name:"Deutsch",flag:"https://flagcdn.com/w20/de.png",emoji:"🇩🇪"},it:{code:"it",name:"Italiano",flag:"https://flagcdn.com/w20/it.png",emoji:"🇮🇹"},pt:{code:"pt",name:"Português",flag:"https://flagcdn.com/w20/pt.png",emoji:"🇵🇹"},nl:{code:"nl",name:"Nederlands",flag:"https://flagcdn.com/w20/nl.png",emoji:"🇳🇱"},ru:{code:"ru",name:"Русский",flag:"https://flagcdn.com/w20/ru.png",emoji:"🇷🇺"},zh:{code:"zh",name:"中文",flag:"https://flagcdn.com/w20/cn.png",emoji:"🇨🇳"},ja:{code:"ja",name:"日本語",flag:"https://flagcdn.com/w20/jp.png",emoji:"🇯🇵"},ar:{code:"ar",name:"العربية",flag:"https://flagcdn.com/w20/sa.png",emoji:"🇸🇦"}},r=JSON.parse('{"UU":"transposh/fse-language-switcher"}');(0,e.registerBlockType)(r.UU,{edit:function({attributes:e,setAttributes:r}){const{showFlags:i,showNames:c,hideCurrentLanguage:h,style:d,nofollow:p,title:g,showEditTranslation:u}=e,m=(0,a.useBlockProps)(),f=(0,l.useSelect)(e=>{const s=e("core").getSite(),a=[(s?.language||"fr").substring(0,2),"en","es","de","it"];return[...new Set(a)].slice(0,5).map(e=>t[e]||t.fr)},[]),w=(f[0],(e,s=!1,a=!1)=>{const n=a?"span":"a",l="transposh-language-link "+(s?"tr_active":"");return(0,o.jsxs)(n,{href:a?void 0:"#",className:l,onClick:a?void 0:e=>e.preventDefault(),children:[i&&(0,o.jsx)("img",{src:e.flag,alt:e.name,className:"transposh-flag",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="inline"}}),i&&(0,o.jsx)("span",{className:"transposh-flag-fallback",style:{display:"none"},children:e.emoji}),c&&(0,o.jsx)("span",{className:"transposh-lang-name",children:e.name}),!i&&!c&&e.code.toUpperCase()]},e.code)});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a.InspectorControls,{children:(0,o.jsxs)(n.PanelBody,{title:(0,s.__)("Paramètres Transposh","transposh"),initialOpen:!0,children:[(0,o.jsx)(n.TextControl,{label:(0,s.__)("Titre du widget","transposh"),value:g,onChange:e=>r({title:e}),help:(0,s.__)("Titre affiché au-dessus du sélecteur de langue","transposh")}),(0,o.jsx)(n.SelectControl,{label:(0,s.__)("Style d'affichage","transposh"),value:d,options:[{label:(0,s.__)("Horizontal","transposh"),value:"horizontal"},{label:(0,s.__)("Vertical","transposh"),value:"vertical"},{label:(0,s.__)("Menu déroulant","transposh"),value:"dropdown"}],onChange:e=>r({style:e})}),(0,o.jsx)(n.ToggleControl,{label:(0,s.__)("Afficher les drapeaux","transposh"),checked:i,onChange:e=>r({showFlags:e}),help:(0,s.__)("Affiche les drapeaux des pays à côté des noms de langues","transposh")}),(0,o.jsx)(n.ToggleControl,{label:(0,s.__)("Afficher les noms de langues","transposh"),checked:c,onChange:e=>r({showNames:e}),help:(0,s.__)("Affiche les noms des langues en texte","transposh")}),(0,o.jsx)(n.ToggleControl,{label:(0,s.__)("Masquer la langue actuelle","transposh"),checked:h,onChange:e=>r({hideCurrentLanguage:e}),help:(0,s.__)("Cache la langue actuellement sélectionnée","transposh")}),(0,o.jsx)(n.ToggleControl,{label:(0,s.__)("Ajouter rel='nofollow'","transposh"),checked:p,onChange:e=>r({nofollow:e}),help:(0,s.__)("Ajoute l'attribut nofollow aux liens de langues","transposh")}),(0,o.jsx)(n.ToggleControl,{label:(0,s.__)("Afficher 'Edit Translation'","transposh"),checked:u,onChange:e=>r({showEditTranslation:e}),help:(0,s.__)("Affiche le toggle pour basculer en mode édition de traduction","transposh")})]})}),(0,o.jsx)("div",{...m,children:(0,o.jsxs)("div",{className:(()=>{switch(d){case"dropdown":return"transposh-dropdown-widget";case"vertical":return"transposh-vertical-widget";default:return"transposh-horizontal-widget"}})(),children:[g&&(0,o.jsx)("div",{className:"widgettitle",children:g}),"dropdown"===d&&(0,o.jsx)("form",{className:"transposh-language-form",children:(0,o.jsxs)("select",{className:"transposh-language-select",disabled:!0,children:[(0,o.jsx)("option",{children:(0,s.__)("Choisir une langue","transposh")}),f.map(e=>(0,o.jsxs)("option",{value:e.code,children:[i&&`${e.emoji} `,c&&e.name,!i&&!c&&e.code.toUpperCase()]},e.code))]})}),"horizontal"===d&&(0,o.jsx)("div",{className:"transposh-language-switcher",children:(0,o.jsx)("div",{className:"transposh-language-list",children:f.map((e,s)=>(0,o.jsxs)("span",{children:[0!==s||h?w(e,!1,!1):w(e,!0,!0),s<f.length-1&&" | "]},e.code))})}),"vertical"===d&&(0,o.jsx)("div",{className:"transposh-language-switcher",children:(0,o.jsx)("ul",{className:"transposh-language-list",children:f.map((e,s)=>(0,o.jsx)("li",{className:0!==s||h?"":"tr_active",children:0!==s||h?w(e,!1,!1):w(e,!0,!0)},e.code))})}),u&&(0,o.jsx)("div",{className:"transposh-edit-translation",children:(0,o.jsxs)("label",{className:"transposh-toggle-control",children:[(0,o.jsx)("span",{className:"transposh-toggle-track",children:(0,o.jsx)("span",{className:"transposh-toggle-thumb"})}),(0,o.jsx)("span",{className:"transposh-toggle-label",children:(0,s.__)("Edit Translation","transposh")})]})})]})})]})},save:()=>null})}},a={};function n(e){var l=a[e];if(void 0!==l)return l.exports;var o=a[e]={exports:{}};return s[e](o,o.exports,n),o.exports}n.m=s,e=[],n.O=(s,a,l,o)=>{if(!a){var t=1/0;for(h=0;h<e.length;h++){for(var[a,l,o]=e[h],r=!0,i=0;i<a.length;i++)(!1&o||t>=o)&&Object.keys(n.O).every(e=>n.O[e](a[i]))?a.splice(i--,1):(r=!1,o<t&&(t=o));if(r){e.splice(h--,1);var c=l();void 0!==c&&(s=c)}}return s}o=o||0;for(var h=e.length;h>0&&e[h-1][2]>o;h--)e[h]=e[h-1];e[h]=[a,l,o]},n.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),(()=>{var e={57:0,350:0};n.O.j=s=>0===e[s];var s=(s,a)=>{var l,o,[t,r,i]=a,c=0;if(t.some(s=>0!==e[s])){for(l in r)n.o(r,l)&&(n.m[l]=r[l]);if(i)var h=i(n)}for(s&&s(a);c<t.length;c++)o=t[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(h)},a=globalThis.webpackChunktransposh_fse_block=globalThis.webpackChunktransposh_fse_block||[];a.forEach(s.bind(null,0)),a.push=s.bind(null,a.push.bind(a))})();var l=n.O(void 0,[350],()=>n(103));l=n.O(l)})();